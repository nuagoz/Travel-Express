<mat-tab-group>
    <mat-tab label="Préférences">
      <div class="container">
        <div class="row">
          <h1 class="text-center">_</h1>
          <div class="container">
            <div class="row">
              <!--team-1-->
              <div class="col-lg-4">
                <div class="our-team-main">
                  <div class="team-front">
                    <img src="https://png.pngtree.com/svg/20140611/smoke_1263764.png" class="img-fluid" />
                    <h3>Cigarette</h3>
                    <mat-checkbox (change)="prefChanged('cigarette')" *ngIf="isLoaded" class="example-margin" [(ngModel)]="fumeur">Autoriser</mat-checkbox>
                  </div>
                  <div class="team-back">
                  </div>
                </div>
              </div>
              <!--team-1-->
              <!--team-2-->
              <div class="col-lg-4">
                <div class="our-team-main">
                  <div class="team-front">
                    <img class="iconPref" src="https://png.pngtree.com/svg/20150803/pet_1259553.png" class="img-fluid" />
                    <h3>Animaux</h3>
                    <mat-checkbox (change)="prefChanged('animaux')" *ngIf="isLoaded" class="example-margin" [(ngModel)]="animaux">Autoriser</mat-checkbox>
                  </div>
                  <div class="team-back">
                  </div>
                </div>
              </div>
              <!--team-2-->
              <!--team-3-->
              <div class="col-lg-4">
                <div class="our-team-main">
                  <div class="team-front">
                    <img class="iconPref" src="https://static.thenounproject.com/png/5029-200.png" class="img-fluid" />
                    <h3>Musique</h3>
                    <mat-checkbox (change)="prefChanged('musique')" *ngIf="isLoaded" class="example-margin" [(ngModel)]="musique">Autoriser</mat-checkbox>
                  </div>
                  <div class="team-back">
                  </div>
                </div>
              </div>
              <!--team-3-->
            </div>
          </div>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Trajets publiés">

        <br/><br/>
        <div class="container">
          <div class="row">
            <table *ngIf="isLoaded" mat-table [dataSource]="dataSourcePublication" class="mat-elevation-z8">
  
                <!--- Note that these columns can be defined in any order.
                      The actual rendered columns are set as a property on the row definition" -->
              
                <!-- Position Column -->
                <ng-container matColumnDef="depart">
                  <th mat-header-cell *matHeaderCellDef> Départ </th>
                  <td mat-cell *matCellDef="let element"> {{element.idVilleDepart.nom }} </td>
                </ng-container>
              
                <!-- Name Column -->
                <ng-container matColumnDef="destination">
                  <th mat-header-cell *matHeaderCellDef> Destination </th>
                  <td mat-cell *matCellDef="let element">{{element.idVilleArrivee.nom }} </td>
                </ng-container>
              
                <!-- Weight Column -->
                <ng-container matColumnDef="heuredep">
                  <th mat-header-cell *matHeaderCellDef> Heure de départ </th>
                  <td mat-cell *matCellDef="let element"> {{element.heureDepart }} </td>
                </ng-container>
              
                <!-- Symbol Column -->
                <ng-container matColumnDef="heurearr">
                  <th mat-header-cell *matHeaderCellDef> Heure d'arrivée </th>
                  <td mat-cell *matCellDef="let element"> {{element.heureArrivee}} </td>
                </ng-container>
  
                <ng-container matColumnDef="date">
                  <th mat-header-cell *matHeaderCellDef> Date </th>
                  <td mat-cell *matCellDef="let element"> {{ formatDate(element.date) }} </td>
                </ng-container>
  
                <ng-container matColumnDef="places">
                  <th mat-header-cell *matHeaderCellDef> Place(s) proposées </th>
                  <td mat-cell *matCellDef="let element"> {{ element.nbPlaces }} </td>
                </ng-container>
  
                <ng-container matColumnDef="prix">
                  <th mat-header-cell *matHeaderCellDef> Prix par place </th>
                  <td mat-cell *matCellDef="let element"><span class="badge badge-primary">{{ element.tarif }} $ </span></td>
                </ng-container>
            
                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef> Action </th>
                  <td mat-cell *matCellDef="let element">
                    <a [routerLink]="['/lift', element._id]">
                      <button mat-raised-button color="primary"><i class="fa fa-eye" aria-hidden="true"></i> Voir</button>
                    </a>
                  </td>
                </ng-container>
                
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
            </div>
          </div>
          <br/><br/>


    </mat-tab>
    <mat-tab label="Mes réservations">
      <br/><br/>
      <div class="container">
        <div class="row">
          <table *ngIf="isLoaded" mat-table [dataSource]="dataSourceReservation" class="mat-elevation-z8">

              <!--- Note that these columns can be defined in any order.
                    The actual rendered columns are set as a property on the row definition" -->
            
              <!-- Position Column -->
              <ng-container matColumnDef="depart">
                <th mat-header-cell *matHeaderCellDef> Départ </th>
                <td mat-cell *matCellDef="let element"> {{element.idTrajet.idVilleDepart.nom }} </td>
              </ng-container>
            
              <!-- Name Column -->
              <ng-container matColumnDef="destination">
                <th mat-header-cell *matHeaderCellDef> Destination </th>
                <td mat-cell *matCellDef="let element">{{element.idTrajet.idVilleArrivee.nom }} </td>
              </ng-container>
            
              <!-- Weight Column -->
              <ng-container matColumnDef="heuredep">
                <th mat-header-cell *matHeaderCellDef> Heure de départ </th>
                <td mat-cell *matCellDef="let element"> {{element.idTrajet.heureDepart }} </td>
              </ng-container>
            
              <!-- Symbol Column -->
              <ng-container matColumnDef="heurearr">
                <th mat-header-cell *matHeaderCellDef> Heure d'arrivée </th>
                <td mat-cell *matCellDef="let element"> {{element.idTrajet.heureArrivee}} </td>
              </ng-container>

              <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Date </th>
                <td mat-cell *matCellDef="let element"> {{ formatDate(element.idTrajet.date) }} </td>
              </ng-container>

              <ng-container matColumnDef="places">
                <th mat-header-cell *matHeaderCellDef> Place(s) </th>
                <td mat-cell *matCellDef="let element"> {{ element.nbPassagers }} </td>
              </ng-container>

              <ng-container matColumnDef="prix">
                <th mat-header-cell *matHeaderCellDef> Prix total </th>
                <td mat-cell *matCellDef="let element"><span class="badge badge-primary">{{calcPrice(element.idTrajet.tarif, element.nbPassagers)}} $ </span></td>
              </ng-container>
          
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element">
                  <a [routerLink]="['/lift', element.idTrajet._id]">
                    <button mat-raised-button color="primary"><i class="fa fa-eye" aria-hidden="true"></i> Voir</button>
                  </a>
                </td>
              </ng-container>
              
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
          </div>
        </div>
        <br/><br/>
    </mat-tab>
  </mat-tab-group>